<!DOCTYPE html>
<html lang="vi">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>G·ª≠i Kh√°nh Linh m·∫∑t qu·∫°o üíñ</title>
    <script src="https://cdn.jsdelivr.net/npm/canvas-confetti@1.6.0/dist/confetti.browser.min.js"></script>
    <style>
        :root {
            --pink: #ffafbd;
            --white: #ffffff;
            --text: #4a4a4a;
            --heart-color: #ff4757;
        }

        body {
            margin: 0; padding: 0; display: flex;
            justify-content: center; align-items: center;
            min-height: 100vh;
            background: linear-gradient(to right, #ffafbd, #ffc3a0);
            font-family: 'Montserrat', sans-serif;
            overflow: hidden; text-align: center;
        }

        .heart-bg {
            position: absolute; color: rgba(255, 255, 255, 0.7);
            font-size: 20px; animation: fly 5s linear infinite; z-index: 1;
        }
        @keyframes fly {
            0% { transform: translateY(100vh) rotate(0deg); opacity: 1; }
            100% { transform: translateY(-10vh) rotate(360deg); opacity: 0; }
        }

        .container {
            background: rgba(244, 225, 225, 0.9);
            padding: 35px; border-radius: 30px;
            backdrop-filter: blur(10px);
            box-shadow: 0 10px 30px rgba(0,0,0,0.1);
            z-index: 10; max-width: 400px; width: 90%;
            transition: 0.5s;
        }

        #screen2, #screen3 { display: none; }

        img.avatar {
            width: 150px; height: 150px; border-radius: 50%;
            border: 5px solid white; object-fit: cover; margin-bottom: 20px;
        }

        h1 { color: #ff4757; font-size: 22px; margin-top: 0; }
        p { color: var(--text); font-size: 16px; line-height: 1.5; }

        .btn-box {
            display: flex; justify-content: center; gap: 20px;
            margin-top: 25px; min-height: 50px; position: relative;
        }

        .btn {
            padding: 12px 22px; border: none; border-radius: 25px;
            cursor: pointer; font-weight: bold; transition: 0.3s;
        }

        #yesBtn, #giftBtn { background: #ff4757; color: white; }
        #noBtn { background: #747d8c; color: white; position: relative; touch-action: none; }
        
        .wish-text {
            font-style: italic; color: #e84393;
            margin-top: 20px; white-space: pre-wrap; min-height: 100px;
            text-align: left; font-size: 15px;
        }

        .birthday-video {
            width: 100%; border-radius: 15px; margin: 10px 0;
            box-shadow: 0 5px 15px rgba(0,0,0,0.2);
        }

        .beating-heart {
            font-size: 100px; color: var(--heart-color);
            display: inline-block; animation: beat 0.8s infinite;
        }
        @keyframes beat {
            0% { transform: scale(1); }
            50% { transform: scale(1.2); }
            100% { transform: scale(1); }
        }
    </style>
</head>
<body>

    <audio id="audio2" loop>
        <source src="https://cdn.discordapp.com/attachments/1465620577028149253/1465985127367577813/snaptt.me-34355886.mp3?ex=697b188b&is=6979c70b&hm=d62f56ff17fa95bafa4c9ae603c44a3a4bbb03a16345949459fdc46ac87853de&" type="audio/mpeg">
    </audio>

    <audio id="audio3" loop>
        <source src="https://cdn.discordapp.com/attachments/1465620577028149253/1465986103042641962/snaptt.me-96613452.mp3?ex=697b1973&is=6979c7f3&hm=2dedaee0644df6dba11ad66c590ecfc0c6b779b1ac74f7653dba8c6e414177a0&" type="audio/mpeg">
    </audio>

    <div id="screen1" class="container">
        <img src="https://i.postimg.cc/15svkSqT/retouch-2026012811240404.png" alt="Friend" class="avatar">
        <h1>H·ª°i ng·ª´ con g√©i m·∫∑t qu·∫°o! üéÇ</h1>
        <p>H√¥m nay sinh nh·ª±t c∆∞ng, c∆∞ng c√≥ ƒë·ªìng √Ω tha l·ªói cho s·ª± "xinh g√°i" v∆∞·ª£t m·ª©c c·ªßa t·ª•i Chu·ªµ hƒÉm?</p>
        <div class="btn-box">
            <button id="yesBtn" class="btn" onclick="startSurprise()">Xinh g√°i hƒÉm ai b·∫±ng‚ù§Ô∏è</button>
            <button id="noBtn" class="btn">B·ªõt ·∫£o t∆∞·ªüng ƒëi mo√°</button>
        </div>
    </div>

    <div id="screen2" class="container">
        <h1>HAPPY BIRTHDAY! üéâ</h1>
        <video id="myVideo" class="birthday-video" loop muted playsinline>
            <source src="https://cdn.discordapp.com/attachments/1465620577028149253/1465958729102131334/7476181278626.mp4?ex=697afff5&is=6979ae75&hm=4a31a70bdfe9e01f756f03368c6b71f2903907347fbf5e9687b18a50a9b7536a&" type="video/mp4">
        </video>
        <div class="wish-text" id="typing"></div>
        <button id="giftBtn" class="btn" style="display: none;" onclick="showHeartScreen()">Nh·∫•n d√¥ ƒë√¢y nh·∫≠n qu√† n√® con qu·∫ª üéÅ</button>
    </div>

    <div id="screen3" class="container">
        <h1>Y√äU C∆ØNG NH·∫§T TR√äN ƒê·ªúI! üíñ</h1>
        <div class="beating-heart">‚ù§Ô∏è</div>
        <p style="margin-top: 20px; font-weight: bold;">M√≥n qu√† l·ªõn nh·∫•t ch√≠nh l√† tr√°i tim c·ªßa t·ª•i Chu·ªµ n√®!</p>
        <p style="font-size: 13px;">(ƒê·ªß l√†m r∆°i n∆∞·ªõc m√©c ch∆∞a h·∫π h·∫π h·∫π üòâ)</p>
    </div>

    <script>
        const audio2 = document.getElementById("audio2");
        const audio3 = document.getElementById("audio3");
        const video = document.getElementById("myVideo");
        const noBtn = document.getElementById('noBtn');

        function createHeart() {
            const heart = document.createElement('div');
            heart.classList.add('heart-bg');
            heart.innerHTML = '‚ù§Ô∏è';
            heart.style.left = Math.random() * 100 + 'vw';
            heart.style.animationDuration = (Math.random() * 3 + 2) + 's';
            document.body.appendChild(heart);
            setTimeout(() => heart.remove(), 5000);
        }
        setInterval(createHeart, 300);

        function moveNo(e) {
            if (e) e.preventDefault();
            noBtn.style.position = 'fixed';
            const x = Math.random() * (window.innerWidth - 120);
            const y = Math.random() * (window.innerHeight - 50);
            noBtn.style.left = x + 'px';
            noBtn.style.top = y + 'px';
            noBtn.style.zIndex = '999';
        }
        noBtn.addEventListener('mouseover', moveNo);
        noBtn.addEventListener('touchstart', moveNo);

        function startSurprise() {
            // Ph√°t nh·∫°c 1 khi nh·∫•n n√∫t m√†n h√¨nh 1
            audio2.play().catch(e => console.log("Audio 2 blocked"));
            video.play();

            document.getElementById('screen1').style.display = 'none';
            document.getElementById('screen2').style.display = 'block';
            confetti({ particleCount: 150, spread: 70, origin: { y: 0.6 } });

            const text = "Ch√∫c KH√ÅNH LINH tu·ªïi m·ªõi: \n‚ú® Lu√¥n xinh ƒë·∫πp v√† th√°nh thi·ªán \nüí∞ Ti·ªÅn ƒë·∫ßy t√∫i, l√†m ph√∫ b√† \nüëØ M√£i l√† 'partner in crime' c·ªßa t·ª•i m·ªÅnh nh√©! ü§ó";
            let i = 0;
            function typeWriter() {
                if (i < text.length) {
                    document.getElementById("typing").innerHTML += text.charAt(i);
                    i++;
                    setTimeout(typeWriter, 50);
                } else {
                    document.getElementById('giftBtn').style.display = 'inline-block';
                }
            }
            typeWriter();
        }

        function showHeartScreen() {
            // T·∫Øt nh·∫°c 1, ph√°t nh·∫°c 2 khi sang m√†n h√¨nh 3
            audio2.pause();
            audio3.play().catch(e => console.log("Audio 3 blocked"));

            document.getElementById('screen2').style.display = 'none';
            document.getElementById('screen3').style.display = 'block';
            confetti({ particleCount: 100, spread: 160, origin: { y: 0.5 } });
        }
    </script>
</body>
</html>
