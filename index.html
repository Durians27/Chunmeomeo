<!DOCTYPE html>
<html lang="vi">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>G·ª≠i Kh√°nh Linh m·∫∑t qu·∫°o üíñ</title>
    <script src="https://cdn.jsdelivr.net/npm/canvas-confetti@1.6.0/dist/confetti.browser.min.js"></script>
    <style>
        :root {
            --pink: #ffafbd;
            --white: #ffffff;
            --text: #4a4a4a;
            --heart-color: #ff4757;
        }

        body {
            margin: 0; padding: 0; display: flex;
            justify-content: center; align-items: center;
            min-height: 100vh;
            background: linear-gradient(to right, #ffafbd, #ffc3a0);
            font-family: 'Montserrat', sans-serif;
            overflow: hidden; text-align: center;
        }

        .heart-bg {
            position: absolute; color: rgba(255, 255, 255, 0.7);
            font-size: 20px; animation: fly 5s linear infinite; z-index: 1;
        }
        @keyframes fly {
            0% { transform: translateY(100vh) rotate(0deg); opacity: 1; }
            100% { transform: translateY(-10vh) rotate(360deg); opacity: 0; }
        }

        .container {
            background: rgba(241, 216, 216, 0.85);
            padding: 40px; border-radius: 30px;
            backdrop-filter: blur(10px);
            box-shadow: 0 10px 30px rgba(0,0,0,0.1);
            z-index: 10; max-width: 400px; width: 90%;
            transition: 0.5s;
        }

        #screen2, #screen3 { display: none; }

        img.avatar {
            width: 150px; height: 150px; border-radius: 50%;
            border: 5px solid white; object-fit: cover; margin-bottom: 20px;
        }

        h1 { color: #ff4757; font-size: 22px; }
        p { color: var(--text); font-size: 16px; line-height: 1.5; }

        /* Ch·ªânh l·∫°i box ch·ª©a n√∫t cho ƒë√†ng ho√†ng */
        .btn-box {
            display: flex; 
            justify-content: center; 
            gap: 20px; /* Kho·∫£ng c√°ch gi·ªØa 2 n√∫t */
            margin-top: 30px; 
            position: relative; 
            min-height: 50px;
        }

        .btn {
            padding: 12px 20px; 
            border: none; 
            border-radius: 25px;
            cursor: pointer; 
            font-weight: bold; 
            transition: 0.3s;
            white-space: nowrap; /* Kh√¥ng cho ch·ªØ xu·ªëng d√≤ng */
        }

        #yesBtn, #giftBtn { background: #ff4757; color: white; }
        
        /* N√∫t Kh√¥ng m·∫∑c ƒë·ªãnh s·∫Ω n·∫±m b√¨nh th∆∞·ªùng trong d√≤ng */
        #noBtn { 
            background: #747d8c; 
            color: white; 
            touch-action: none;
            position: relative; /* L√∫c ƒë·∫ßu ƒë·ªÉ relative cho ngay ng·∫Øn */
        }
        
        .beating-heart {
            font-size: 100px;
            color: var(--heart-color);
            display: inline-block;
            animation: beat 0.8s infinite;
            filter: drop-shadow(0 0 10px rgba(255, 71, 87, 0.5));
            cursor: pointer;
        }

        @keyframes beat {
            0% { transform: scale(1); }
            50% { transform: scale(1.3); }
            100% { transform: scale(1); }
        }

        .wish-text {
            font-style: italic; color: #e84393;
            margin-top: 20px; white-space: pre-wrap;
        }
    </style>
</head>
<body>

    <audio id="myAudio" loop>
        <source src="https://www.soundhelix.com/examples/mp3/SoundHelix-Song-1.mp3" type="audio/mpeg">
    </audio>

    <div id="screen1" class="container">
        <img src="https://i.postimg.cc/15svkSqT/retouch-2026012811240404.png" alt="Friend" class="avatar">
        <h1>H·ª°i ng·ª´ con g√©i m·∫∑t qu·∫°o kia ∆°i! üéÇ</h1>
        <p>H√¥m nay sinh nh·ª±t c∆∞ng, C∆∞ng c√≥ ƒë·ªìng √Ω tha l·ªói cho s·ª± "xinh g√°i" v∆∞·ª£t m·ª©c c·ªßa Chu·ªµ hƒÉm?</p>
        <div class="btn-box">
            <button id="yesBtn" class="btn" onclick="startSurprise()">Xinh g√°i hƒÉm ai b·∫±ng‚ù§Ô∏è</button>
            <button id="noBtn" class="btn">B·ªõt ·∫£o t∆∞·ªüng ƒëi mo√°</button>
        </div>
    </div>

    <div id="screen2" class="container">
        <h1>HAPPY BIRTHDAY! üéâ</h1>
        <img src="https://i.postimg.cc/ht3MQ73x/IMG-20260128-113243.jpg" alt="Happy" style="width:100%; border-radius:15px;">
        <div class="wish-text" id="typing"></div>
        <button id="giftBtn" class="btn" style="margin-top: 25px; display: none;" onclick="showHeartScreen()">Nh·∫•n d√¥ ƒë√¢y nh·∫≠n qu√† n√® con qu·∫ª üéÅ</button>
    </div>

    <div id="screen3" class="container">
        <h1>Y√äU C∆ØNG NH·∫§T TR√äN ƒê·ªúI! üíñ</h1>
        <div class="beating-heart">‚ù§Ô∏è</div>
        <p style="margin-top: 20px; font-weight: bold;">M√≥n qu√† l·ªõn nh·∫•t ch√≠nh l√† tr√°i tim c·ªßa Chu·ªµ n√®!</p>
        <p style="font-size: 13px;">(ƒê·ªß l√†m cho em r∆°i n∆∞·ªõc m√©c ch∆∞a h·∫π h·∫π h·∫π üòâ)</p>
    </div>

    <script>
        const audio = document.getElementById("myAudio");

        function createHeart() {
            const heart = document.createElement('div');
            heart.classList.add('heart-bg');
            heart.innerHTML = '‚ù§Ô∏è';
            heart.style.left = Math.random() * 100 + 'vw';
            heart.style.animationDuration = (Math.random() * 3 + 2) + 's';
            document.body.appendChild(heart);
            setTimeout(() => heart.remove(), 5000);
        }
        setInterval(createHeart, 300);

        const noBtn = document.getElementById('noBtn');

        function moveNo(e) {
            if (e) e.preventDefault();
            
            // Khi b·∫Øt ƒë·∫ßu move, ƒë·ªïi t·ª´ relative sang fixed ƒë·ªÉ nh·∫£y kh·∫Øp m√†n h√¨nh
            noBtn.style.position = 'fixed';
            
            const x = Math.random() * (window.innerWidth - 150);
            const y = Math.random() * (window.innerHeight - 50);
            
            noBtn.style.left = x + 'px';
            noBtn.style.top = y + 'px';
            noBtn.style.zIndex = '999';
        }

        noBtn.addEventListener('mouseover', moveNo);
        noBtn.addEventListener('touchstart', moveNo);
        noBtn.addEventListener('click', moveNo);

        function startSurprise() {
            audio.play().catch(e => console.log("Audio play blocked"));
            document.getElementById('screen1').style.display = 'none';
            document.getElementById('screen2').style.display = 'block';
            confetti({ particleCount: 150, spread: 70, origin: { y: 0.6 } });

            const text = "Ch√∫c Kh√°nh Linh tu·ªïi m·ªõi: \n‚ú® Lu√¥n xinh ƒë·∫πp v√† th√°nh thi·ªán \nüí∞ Ti·ªÅn ƒë·∫ßy t√∫i, l√†m ph√∫ b√† \nüëØ M√£i l√† 'partner in crime' c·ªßa m·ªÅnh nh√©! \n\nT·∫∑ng Kh√°nh Linh ng√†n c√°i √¥m! ü§ó";
            let i = 0;
            function typeWriter() {
                if (i < text.length) {
                    document.getElementById("typing").innerHTML += text.charAt(i);
                    i++;
                    setTimeout(typeWriter, 50);
                } else {
                    document.getElementById('giftBtn').style.display = 'inline-block';
                }
            }
            typeWriter();
        }

        function showHeartScreen() {
            document.getElementById('screen2').style.display = 'none';
            document.getElementById('screen3').style.display = 'block';
            confetti({
                particleCount: 100,
                startVelocity: 30,
                spread: 360,
                origin: { x: Math.random(), y: Math.random() - 0.2 }
            });
        }
    </script>
</body>
</html>